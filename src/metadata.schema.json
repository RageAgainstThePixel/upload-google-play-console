{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Play Console Release Metadata",
  "description": "Schema describing the optional metadata payload consumed by the upload-google-play-console action.",
  "type": "object",
  "properties": {
    "listing": {
      "description": "Localized store listing data that mirrors the Google Play Android Publisher listing resource.",
      "anyOf": [
        {
          "$ref": "#/definitions/listing"
        },
        {
          "type": "array",
          "items": {
            "$ref": "#/definitions/listing"
          },
          "minItems": 1
        }
      ]
    },
    "images": {
      "description": "Standalone image assets that can be uploaded with the release.",
      "type": "array",
      "minItems": 1,
      "items": {
        "$ref": "#/definitions/image"
      }
    },
    "releaseNotes": {
      "description": "Localized release notes following the LocalizedText structure used by the Android Publisher API.",
      "anyOf": [
        {
          "type": "array",
          "items": {
            "$ref": "#/definitions/localizedText"
          },
          "minItems": 1
        },
        {
          "$ref": "#/definitions/localizedText"
        }
      ]
    },
    "countryTargeting": {
      "description": "Country targeting configuration for the release.",
      "type": "object",
      "properties": {
        "countries": {
          "type": "array",
          "items": {
            "type": "string",
            "pattern": "^[A-Z]{2}$",
            "description": "ISO 3166-1 alpha-2 country code."
          },
          "minItems": 1,
          "uniqueItems": true
        },
        "includeRestOfWorld": {
          "type": "boolean"
        }
      },
      "additionalProperties": false
    }
  },
  "additionalProperties": false,
  "definitions": {
    "listing": {
      "type": "object",
      "properties": {
        "language": {
          "type": [
            "string",
            "null"
          ],
          "description": "BCP-47 language tag (for example, en-US)."
        },
        "title": {
          "type": [
            "string",
            "null"
          ]
        },
        "fullDescription": {
          "type": [
            "string",
            "null"
          ]
        },
        "shortDescription": {
          "type": [
            "string",
            "null"
          ]
        },
        "video": {
          "type": [
            "string",
            "null"
          ],
          "format": "uri"
        },
        "images": {
          "type": [
            "array",
            "null"
          ],
          "minItems": 1,
          "items": {
            "$ref": "#/definitions/image"
          }
        }
      },
      "required": [
        "language",
        "title",
        "fullDescription",
        "shortDescription",
        "images"
      ],
      "additionalProperties": false
    },
    "image": {
      "type": "object",
      "properties": {
        "language": {
          "type": [
            "string",
            "null"
          ],
          "description": "BCP-47 language tag (for example, en-US)."
        },
        "type": {
          "type": [
            "string",
            "null"
          ],
          "description": "One of the values defined by the Android Publisher `AppImageType` enum (see https://developers.google.com/android-publisher/api-ref/rest/v3/AppImageType).",
          "enum": [
            "phoneScreenshots",
            "sevenInchScreenshots",
            "tenInchScreenshots",
            "tvScreenshots",
            "wearScreenshots",
            "icon",
            "featureGraphic",
            "tvBanner",
            null
          ]
        },
        "path": {
          "type": [
            "string",
            "null"
          ],
          "description": "Relative or absolute path to the local image asset to upload."
        }
      },
      "required": [
        "language",
        "type",
        "path"
      ],
      "additionalProperties": false
    },
    "localizedText": {
      "type": "object",
      "properties": {
        "language": {
          "type": [
            "string",
            "null"
          ],
          "description": "BCP-47 language tag (for example, en-US)."
        },
        "text": {
          "type": [
            "string",
            "null"
          ]
        }
      },
      "required": [
        "language",
        "text"
      ],
      "additionalProperties": false
    }
  }
}